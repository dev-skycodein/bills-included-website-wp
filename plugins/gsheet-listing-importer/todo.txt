[] Add pagination to the table on admins page showing all the listings added using scraping. 
[] Fetch the google sheet data using the google serivce API account. 
[] All the image downloads will go through it. So implement proxies for this.

Claim My Agency – implementation steps (high level)
[X] 1. Start Verification (front-end)
   - Add “Claim this agency” button on single listing pages (only for unclaimed agencies) that opens a popup form.
   - Popup collects: name, work email, pre-filled agency name, agency website, and optional validation info (staff page URL, Companies House URL, notes, consent).
   - On submit, create a pending claim record (CPT/table) tied to the agency (and listing), with status = pending.

[] 2. Email-based domain verification (Firebase – no access before approval)
   - Use Firebase Auth Email Link (passwordless) to verify ownership of the work email used in the claim.
   - Do NOT grant WordPress/agency access yet; treat the verified email as an identity only, until an admin approves the claim.

[] 3. Manual review in admin
   - Build an admin screen listing all pending claims with the submitted data and a domain match hint (email domain vs agency website).
   - Admin manually clicks Approve or Reject for each claim; no automatic approval.

[] 4. On approval: link user, role and agency
   - After approval, create or locate the corresponding WordPress user for the verified email.
   - Assign them the Agency package role (e.g. role from package ID 5402) and store them as the owner of the agency profile (agency_owner).
   - Optionally reassign all listings for that agency so the new owner becomes the post author.

[] 5. Post-approval access and dashboard
   - Configure Firebase Email Link so approved owners can log in via their work email.
   - After login, redirect them to /agency-admin (or /my-account) where they see an agency dashboard.
   - The dashboard must at minimum allow them to edit their agency profile details and branding.

[] 6. Team members and leads (after MVP)
   - Allow the agency owner to invite team members (create/link additional WordPress users to the same agency).
   - Expose renter leads/enquiries for that agency in the dashboard, with basic management (view, respond, track).

[] 7. Analytics and additional tools (future)
   - Add performance insights (views, clicks, conversions) for the agency’s listings into the dashboard.
   - Gradually roll out additional tools and insights for agencies over time (e.g. reporting, export, integrations).

Claim My Agency Flow 

What is ‘claim my agency’?
“Claim My Agency” is a feature that allows letting agents to take ownership of their automatically generated agency profile on Bills Included.
Many agents will already have their rental properties displayed on our platform through public feeds (scraping), partner CRMs, open API integrations, or third-party data sources. Claiming your agency gives you full visibility and control over how your brand is presented to renters.

Once your agency is verified, you unlock access to:
* an editable agency profile

* the ability to manage your listings

* access to viewing and managing renter leads

* additional tools and insights over time

Claiming ensures your information is correct, professional, and up to date — and enables your team to get the full benefits of exposure to thousands of renters searching for bills-included properties.
How the verification process works (step-by-step) 
Below is a recommended flow that mirrors what platforms like Otta, Glassdoor, and Trustpilot use.

1. Start Verification
The agent clicks “Claim this agency” on any listing associated with their brand.
They are taken to a simple form requesting:
* name

* work email (company domain recommended)

* agency name (pre-filled)

* website

* optional validation info

2. Email-based domain verification (recommended free plugin: Firebase Authentication)
To keep this free, secure, and scalable, you can use Firebase Auth “Email Link” sign-in (also called passwordless login).
Why it works well:
* free at small scale

* no passwords to manage

* identity tied to email ownership

* very low support overhead

How it works:
1.The agent enters their work email.

2.Firebase sends a secure one-click login link.

3.Clicking the link automatically verifies the email and logs them in.

If the email domain matches the agency website (e.g. @sunshinelettings.co.uk), it counts as a “strong match.”
If the email does not match the domain (e.g. using @gmail.com), you can ask for one additional proof:
* link to agency staff page showing their name

* link to Companies House

* or a quick manual approval by the Bills Included team

3. Manual review (your side)
Inside your admin dashboard, you simply click Approve or Reject.
Once approved:
* Firebase permanently ties that user to the agency profile

* They become the “owner user” of that agency

4. They get immediate access to their dashboard
After approval, they are redirected to:
/dashboard or /agency-admin
From here they can:
* edit agency details

* add team members

* update branding

* see listing performance

* manage enquiries

This passwordless email-link login persists, meaning they can log in at any time by requesting a fresh link. Once inside, they can set a password later if you enable that option.

How agents log in after claiming their profile
Because it uses passwordless login:
1.They enter their email

2.They receive a login link

3.Clicking the link logs them in instantly

If you want to offer passwords later, Firebase makes it one click to turn on “set password” inside the dashboard.
This approach is used by:
* Otta

* Notion

* Figma

* Slack (optional magic-link login)

It reduces friction and security risks.

How scraped or API-synced listings get matched to the claimed agency
To avoid duplicating agency profiles and ensure correct ownership:
1.Each listing source (Street API, scraping, manual upload) is normalised.

2.You match agencies by:

* domain name

* agency name similarity (fuzzy matching)

* phone number

* listing address

3.Each listing receives an agency_id in your database.

4.When an agent claims their agency, that single agency_id already controls all listings.

5.You stop scraping or syncing brand-level metadata (logo, description), but keep syncing their live listings.

This is the same approach used by:
* Otta (job > company mapping)

* Rightmove (branch ID)

* TripAdvisor (venue claimed → stop scraping profile text)